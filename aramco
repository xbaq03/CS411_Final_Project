import os
import subprocess

def get_file_location():
    """Prompt the user to enter the file location."""
    file_location = input("Please enter the location of the file: ")
    return file_location

def validate_file(file_location):
    """Check if the provided file location exists and is a file."""
    if os.path.isfile(file_location):
        print(f"File found: {file_location}")
        return True
    else:
        print(f"File not found: {file_location}")
        return False

def perform_actions(file_location):
    """Perform the command with the provided file."""
    # Command to be executed
    command = f"python3 ../gp_binred.py -w {file_location}"
    
    try:
        # Execute the command
        result = subprocess.run(command, shell=True, check=True, capture_output=True, text=True)
        # Print the command output
        print(f"Command output:\n{result.stdout}")
    except subprocess.CalledProcessError as e:
        print(f"An error occurred while executing the command: {e.stderr}")

def main():
    """Main function to execute the script."""
    file_location = get_file_location()
    if validate_file(file_location):
        perform_actions(file_location)

if __name__ == "__main__":
    main()
